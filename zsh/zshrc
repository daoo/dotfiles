#!/bin/zsh

# Skip all this for non-interactive shells
[ -z "$PS1" ] && return

# {{{ Config
# PS1
if [ -z "$SSH_CLIENT" ]; then
  # Not connected through ssh
  PS1="$USER:%~$ "
else
  PS1="$USER@$HOST:%~$ "
fi

# Title
case "$TERM" in
  xterm*|*rxvt*)
    # Set the title
    precmd () {print -Pn "\e]0;%~ (%n@%m)\a"}
  ;;
esac

# History
HISTFILE=~/.zhistory
HISTSIZE=100000
SAVEHIST=100000
setopt appendhistory
setopt histignoredups
setopt incappendhistory

# Stuff
setopt nobeep
export WORDCHARS='*?_-.[]~=&;!#$%^(){}<>'
export EDITOR="vim"
export PAGER="less"
export GREP_OPTIONS='--color=auto'
export LESS="-FiXr"

# Jobs
setopt LONG_LIST_JOBS     # List jobs in the long format by default.
setopt AUTO_RESUME        # Attempt to resume existing job before creating a new process.
setopt NOTIFY             # Report status of background jobs immediately.
unsetopt BG_NICE          # Don't run all background jobs at a lower priority.
unsetopt HUP              # Don't kill jobs on shell exit.
unsetopt CHECK_JOBS       # Don't report on jobs when shell exit.

# Disable ctrl-q and ctrl-s
stty -ixon
# }}}
# {{{ Aliases
# Give some commands fancy colors
alias ls='ls -h -F --color=auto'
alias tree='tree -C'
alias pacman='pacman-color'

# Some for ls
alias l='ls'
alias ll='ls -lh'
alias la='ls -a'
alias lla='ls -lha'

# Up up and away
alias '..'='cd ..'
alias '...'='cd ../..'
alias '....'='cd ../../..'
alias '.....'='cd ../../../..'

# Bazinga
alias :q='echo you are not in vim anymore'
alias :w='echo you are not in vim anymore'

# Other
alias bell="echo -e '\a'"
alias sprunge="curl -F 'sprunge=<-' http://sprunge.us"
alias calc='noglob calc'
alias g='git'
alias y='yaourt'
# }}}
# {{{ Binds
bindkey '' history-search-backward
bindkey '' history-search-forward
bindkey '' history-incremental-search-backward
bindkey '' push-line
# }}}
# {{{ Oh-my-zsh
zstyle ':omz:editor' keymap 'vi'
zstyle ':omz:editor' dot-expansion 'no'
zstyle ':omz:*:*' case-sensitive 'no'
zstyle ':omz:*:*' color 'yes'
zstyle ':omz:terminal' auto-title 'yes'
zstyle ':omz:load' plugin 'archive' 'git'
zstyle ':omz:prompt' theme 'adam2'
source "$HOME/.oh-my-zsh/init.zsh"
# }}}
# {{{ Local settings
if [ -f ~/.zlocal ]; then
  . ~/.zlocal
fi
# }}}

# vim: fdm=marker :
