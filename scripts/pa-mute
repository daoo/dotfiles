#!/usr/bin/env bash

list() {
  pacmd list-$1 | grep index | awk -F': ' '{print $2}'
}

mute() {
	pacmd set-$1-mute $2 1 > /dev/null
}

unmute() {
	pacmd set-$1-mute $2 0 > /dev/null
}

STATUSFILE="/tmp/pa-mute"

if [ "`cat $STATUSFILE`" = "0" ]; then
  action=mute
  echo "1" > $STATUSFILE
else
  action=unmute
  echo "0" > $STATUSFILE
fi

# Sinks
for s in `list sinks`; do
  $action sink $s
done

# Sources
for s in `list sources`; do
  $action source $s
done

